<div class="container-fluid">

	{% if app.request.attributes.get('_route') != 'app_appels_edit' %}
		<div class="row mb-4">
			<div class="col d-flex justify-content-end">
				<button class="btn btn-secondary" id="clear-fields-btn" onclick="return confirm('Êtes-vous sûr de vouloir réinitialiser les champs ?')">Réinitialiser</button>
			</div>
		</div>
	{% endif %}

	<div class="card border rounded-5 bg-light p-4">
		{{ form_start(form) }}

		{% if app.request.attributes.get('_route') == 'app_appels_edit' %}
			<div class="row mb-4 mt-1 form-check">
				<div class="col mb-2">
					{{ form_row(form.isNewClient, {'attr': {'disabled': 'disabled'}}) }}
				</div>
			</div>
		{% else %}
			<div class="row mb-4 mt-1 form-check">
				<div class="col mb-2">{{ form_row(form.isNewClient) }}</div>
			</div>
		{% endif %}


		<div class="row mt-3">
			<div class="col">{{ form_row(form.ID_Utilisateur) }}</div>
		</div>

		<div class="row mt-3 ">
			<div class="col">{{ form_row(form.ClientList) }}</div>
		</div>

		<div class="row mt-3">
			<div class="col-md-6">{{ form_row(form.CodeContrat) }}</div>
			<div class="col-md-6">{{ form_row(form.CodeClient) }}</div>
		</div>

		<div class="row mt-4">
			<div class="col-md-6">{{ form_row(form.Nom) }}</div>
			<div class="col-md-6">{{ form_row(form.Adr) }}</div>
			<div class="col-md-6">{{ form_row(form.CP) }}</div>
			<div class="col-md-6">{{ form_row(form.Ville) }}</div>
			<div class="col-md-6">{{ form_row(form.Tel) }}</div>
			<div class="col-md-6">{{ form_row(form.Email) }}</div>
		</div>

		<div class="row mt-4">
			<div class="col">{{ form_row(form.description) }}</div>
		</div>

		<div class="row mt-3">
			{% if app.request.hasPreviousSession %}
				{% for flashMessage in app.session.flashbag.get('error') %}
					<div class="alert alert-danger alert-dismissible fade show" role="alert">
						{{ flashMessage }}
						<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
					</div>
				{% endfor %}
			{% endif %}

			<div class="col-md-6">{{ form_row(form.rdvDateTime) }}</div>
			<div class="col-md-6">{{ form_row(form.rdvDateTimeFin) }}</div>
		</div>

		<div class="row mt-3 form-check">
			<div class="col">{{ form_row(form.allDay) }}</div>
		</div>

		<div class="row mb-4 mt-1 form-check">
			<div class="col mb-2">{{ form_row(form.isUrgent) }}</div>
			<div class="col-3">{{ form_row(form.status) }}</div>
		</div>

		<button type="submit" class="btn btn-primary">{{ button_label|default('Enregistrer') }}</button>
		{{ form_end(form) }}
	</div>
</div>

